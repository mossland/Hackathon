# 📊 다중 거래소 평단가 계산기

### 개요  
해외 및 국내 거래소의 CSV 거래 내역을 업로드하기만 하면, 입출금 및 수수료를 포함한 **정확한 평단가와 수익률, 보유 변화, 손익 내역**을 자동 분석해주는 사용자 친화적인 분석 도구입니다.

---

### 문제 정의  
기존 거래소 제공 분석 기능은 다음의 한계를 가지고 있습니다:  
- 입출금, 지갑 간 이동 등은 반영하지 않음  
- 복수 거래소 및 지갑 분석이 불가능  
- 에어드랍/채굴 등 비정형 수익 계산 누락  
결과적으로 **정확한 평단가와 실제 수익률 계산이 어렵습니다.**

---

### 제안 솔루션  
- 🗂 CSV 파일만 업로드하면 자동으로 거래소 인식 및 데이터 파싱  
- 🔄 모든 거래 내역(매수/매도, 입출금, 수수료 등)을 반영한 정밀 분석  
- 📊 코인별, 기간별, 계정별로 정렬된 투자 성과 시각화 제공  
- 🧠 (선택) 블록체인 지갑 주소 연동으로 온체인 내역까지 분석 가능

---

### Mossland에 주는 이점  
| 기능 | 효과 |
|------|------|
| ✅ 정확한 평단가 분석 | 사용자 신뢰도 향상, 리텐션 증가 |
| 📂 쉬운 CSV 업로드 | 사용 진입장벽 최소화 |
| 📈 코인 및 기간별 성과 분석 | 투자 성찰 및 재참여 유도 |
| 🧩 메타버스 내 NPC와 연동 가능 | 투자 여정을 가상 공간 내에서 시각/음성 브리핑 가능 |
| 💡 백테스트 기능과 연계 가능 | 전략 시뮬레이션 및 교육형 콘텐츠 제작 가능 |

---

### 핵심 기능

#### 1. 📥 CSV 업로드 인터페이스  
- 업비트, 바이낸스, 빗썸 등 거래소 자동 감지  
- 다건 업로드, ZIP 파일 지원  
- 헤더 오류 시 자동 매핑 유도 UI 제공  

#### 2. ⚙️ 스마트 데이터 처리기  
| 이벤트 유형 | 설명 | 반영 여부 |
|------------|------|-----------|
| 매수/매도 | 거래소 거래내역 및 수수료 포함 | ✅ |
| 입금 | 지갑·타 거래소 이동 시 원가 보존 | ✅ |
| 출금 | 출금 당시 보유 평단 차감 | ✅ |
| 수수료 | 매매/출금 모두 인식 | ✅ |
| 에어드랍/보상 | 원가 0 또는 사용자 지정 | ✅ |
| 내부이동 | 평단가 보존 | ✅ |

#### 3. 📅 기간·코인별 분석  
- 사용자 지정 기간 필터  
- 거래가 활발한 구간 자동 하이라이팅  
- 코인별 누적 보유 변화 / ROI 분석

#### 4. 📊 시각화 및 리포트 출력  
- 평단가 변동 그래프  
- 실현손익 / 미실현손익 분리  
- 월별, 분기별 수익률 비교  
- PDF, Excel 리포트 다운로드 지원

#### 5. 🧠 고급 옵션  
- FIFO / 평균법 선택 가능  (세법상: 한국과 미국 등 많은 나라에서는 세금 계산 시 FIFO를 기본으로 사용)
- 국가별 세금 기준 (예: 한국, 미국) 적용  
- AI 분석 추천: “2023년 6월의 BTC 거래가 가장 수익률이 높았습니다.”

---

### 예상 도전 과제  
| 도전 요소 | 해결 전략 |
|-----------|-----------|
| 다양한 CSV 포맷 | 거래소별 파씽 템플릿 미리 구축 |
| 지갑 간 원가 추적 | FIFO 기반 거래처리 시스템 도입 |
| 대용량 처리 | Pandas + 로컬 캐시 or 서버 연산 |
| 민감 데이터 보안 | 로컬 처리 or 데이터 익명화 기능 제공 |

---

### 추가 사항  
- MVP는 업비트, 빗썸, 바이낸스 중심으로 시작 가능  
- 향후 메타버스 내 NPC가 분석 결과를 시각/음성으로 설명해주는 형태로 확장 가능  
- 백테스트 시뮬레이터와 연동하여 전략 실험 및 콘텐츠화 가능

---

### 작성자 정보  
- **이름:** 장형수 
- **이메일:** akasimp@gmail,com
- **작성일자:** 2025년 4월 24일

